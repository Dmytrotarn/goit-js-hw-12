{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict'\nimport axios from 'axios'\n\nconst API_KEY = \"43985824-437e417885fe4ca625fa28e08\"\nconst perPage = 15\naxios.defaults.baseURL = 'https://pixabay.com/api/'\n\nexport async function getSearchResults(search, page) {\n    const response = await axios({\n        params: {\n            key: API_KEY,\n            q: search,\n            image_type: 'photo',\n            safesearch: true,\n            page: page,\n            per_page: perPage,\n        }\n    })\n\n    return response.data\n\n}","'use strict'\nexport function renderImages(images) {\n\n  return images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `<li class=\"item-results\">\n        \t<a href=\"${largeImageURL}\" class=\"gallery-link\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-img\"/>\n        \t</a>\n        \t<div class=\"wrap-info\">\n            <ul class=\"list-info\">\n              <li class=\"item-info\">\n                <p class=\"headline-info\">Likes</p>\n                <p class=\"text-info\">${likes}</p>\n              </li>\n              <li class=\"item-info\">\n                <p class=\"headline-info\">Views</p>\n                <p class=\"text-info\">${views}</p>\n            </li>\n            <li class=\"item-info\">\n                <p class=\"headline-info\">Comments</p>\n                <p class=\"text-info\">${comments}</p>\n            </li>\n            <li class=\"item-info\">\n                <p class=\"headline-info\">Downloads</p>\n                <p class=\"text-info\">${downloads}</p>\n            </li>\n            </ul>\n          </div>\n        </li>`}).join('')\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\"\nimport SimpleLightbox from \"simplelightbox\"\nimport \"simplelightbox/dist/simple-lightbox.min.css\"\nimport { getSearchResults } from './js/pixabay-api'\nimport { renderImages } from './js/render-functions'\n\n\nconst search = document.querySelector('.search-input')\nconst gallery = document.querySelector('.gallery')\nconst load = document.querySelector('.loader')\nconst form = document.querySelector('.form')\nconst loadMore = document.querySelector('load-more')\n\nlet userInput = ''\nlet page = 1;\nconst perPage = 15;\n\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nform.addEventListener('submit', handleSearch)\n\nasync function handleSearch(e) {\n    e.preventDefault()\n\n    userInput = search.value.trim()\n\n    // Порожній запит\n    if (userInput === '') {\n        iziToast.error({\n            message: 'Input field can not be empty',\n            position: \"topRight\",\n            // timeout: false,\n            displayMode: 2,\n        })\n        form.reset()\n        gallery.innerHTML = ''\n        return\n    }\n\n    load.classList.remove('is-hidden')\n\n    try {\n        const { hits, total } = await getSearchResults(userInput, page)\n\n        if (total === 0) {                             //нічого не знайдено\n            iziToast.show({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                color: 'blue',\n                position: 'topRight',\n                // timeout: false,\n                displayMode: 2\n            })\n            load.classList.add('is-hidden')\n            gallery.innerHTML = ''\n            form.reset()\n            return\n        }\n        gallery.innerHTML = renderImages(hits)\n        lightbox.refresh()\n    }\n    catch (error) {\n        iziToast.error({ message: `${error}` })\n    }\n    form.reset()\n    load.classList.add('is-hidden')\n}\n    // iziToast.destroy()"],"names":["API_KEY","perPage","axios","getSearchResults","search","page","renderImages","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","load","form","userInput","lightbox","SimpleLightbox","handleSearch","e","iziToast","hits","total","error"],"mappings":"owBAGA,MAAMA,EAAU,qCACVC,EAAU,GAChBC,EAAM,SAAS,QAAU,2BAElB,eAAeC,EAAiBC,EAAQC,EAAM,CAYjD,OAXiB,MAAMH,EAAM,CACzB,OAAQ,CACJ,IAAKF,EACL,EAAGI,EACH,WAAY,QACZ,WAAY,GACZ,KAAMC,EACN,SAAUJ,CACb,CACT,CAAK,GAEe,IAEpB,CCpBO,SAASK,EAAaC,EAAQ,CAEnC,OAAOA,EAAO,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAChF;AAAA,oBACSL,CAAa;AAAA,wBACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAMXC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,uCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,cAIjC,EAAE,KAAK,EAAE,CACxB,CCrBA,MAAMV,EAAS,SAAS,cAAc,eAAe,EAC/CW,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,SAAS,EACvCC,EAAO,SAAS,cAAc,OAAO,EAC1B,SAAS,cAAc,WAAW,EAEnD,IAAIC,EAAY,GACZb,EAAO,EAIX,MAAMc,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAEDH,EAAK,iBAAiB,SAAUI,CAAY,EAE5C,eAAeA,EAAaC,EAAG,CAM3B,GALAA,EAAE,eAAgB,EAElBJ,EAAYd,EAAO,MAAM,KAAM,EAG3Bc,IAAc,GAAI,CAClBK,EAAS,MAAM,CACX,QAAS,+BACT,SAAU,WAEV,YAAa,CACzB,CAAS,EACDN,EAAK,MAAO,EACZF,EAAQ,UAAY,GACpB,MACH,CAEDC,EAAK,UAAU,OAAO,WAAW,EAEjC,GAAI,CACA,KAAM,CAAE,KAAAQ,EAAM,MAAAC,CAAK,EAAK,MAAMtB,EAAiBe,EAAWb,CAAI,EAE9D,GAAIoB,IAAU,EAAG,CACbF,EAAS,KAAK,CACV,QAAS,2EACT,MAAO,OACP,SAAU,WAEV,YAAa,CAC7B,CAAa,EACDP,EAAK,UAAU,IAAI,WAAW,EAC9BD,EAAQ,UAAY,GACpBE,EAAK,MAAO,EACZ,MACH,CACDF,EAAQ,UAAYT,EAAakB,CAAI,EACrCL,EAAS,QAAS,CACrB,OACMO,EAAO,CACVH,EAAS,MAAM,CAAE,QAAS,GAAGG,CAAK,GAAI,CACzC,CACDT,EAAK,MAAO,EACZD,EAAK,UAAU,IAAI,WAAW,CAClC"}