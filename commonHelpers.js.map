{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict'\nconst API_KEY = \"43985824-437e417885fe4ca625fa28e08\"\nconst BASE_URL = \"https://pixabay.com/api/\"\n\n\n\nexport function getSearchResults(search) {\n    const searchParams = new URLSearchParams({\n        key: API_KEY,\n        q: search,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n    return fetch(`${BASE_URL}?${searchParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.statusText)\n            }\n            return response.json();\n        })\n\n}\n","'use strict'\nexport function renderImages(images) {\n\n  return images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `<li class=\"item-results\">\n        \t<a href=\"${largeImageURL}\" class=\"gallery-link\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-img\"/>\n        \t</a>\n        \t<div class=\"wrap-info\">\n            <ul class=\"list-info\">\n              <li class=\"item-info\">\n                <p class=\"headline-info\">Likes</p>\n                <p class=\"text-info\">${likes}</p>\n              </li>\n              <li class=\"item-info\">\n                <p class=\"headline-info\">Views</p>\n                <p class=\"text-info\">${views}</p>\n            </li>\n            <li class=\"item-info\">\n                <p class=\"headline-info\">Comments</p>\n                <p class=\"text-info\">${comments}</p>\n            </li>\n            <li class=\"item-info\">\n                <p class=\"headline-info\">Downloads</p>\n                <p class=\"text-info\">${downloads}</p>\n            </li>\n            </ul>\n          </div>\n        </li>`}).join('')\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\"\nimport SimpleLightbox from \"simplelightbox\"\nimport \"simplelightbox/dist/simple-lightbox.min.css\"\nimport axios from 'axios'\nimport { getSearchResults } from './js/pixabay-api'\nimport { renderImages } from './js/render-functions'\n\n\nconst search = document.querySelector('.search-input')\nconst gallery = document.querySelector('.gallery')\nconst load = document.querySelector('.loader')\nconst form = document.querySelector('.form')\nconst loadMore = document.querySelector('load-more')\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nform.addEventListener('submit', handleSearch)\n\nfunction handleSearch(e) {\n    e.preventDefault()\n\n    const searchValue = search.value.trim()\n    // Порожній запит\n    if (searchValue === '') {\n        iziToast.error({\n            message: 'Input field can not be empty',\n            position: \"topRight\",\n            // timeout: false,\n            displayMode: 2,\n        })\n        search.value = ''\n        gallery.innerHTML = ''\n        return\n    }\n\n    load.classList.remove('is-hidden')\n\n\n    getSearchResults(searchValue)\n        .then((data) => {\n            if (data.total === 0) {                             //нічого не знайдено\n                iziToast.show({\n                    message: '\"Sorry, there are no images matching your search query. Please try again!\"',\n                    color: 'blue',\n                    position: 'topRight',\n                    // timeout: false,\n                    displayMode: 2\n                })\n                load.classList.add('is-hidden')\n                gallery.innerHTML = ''\n                return\n            }\n\n            gallery.innerHTML = renderImages(data.hits)\n            lightbox.refresh()\n        })\n        .catch(e => {\n            iziToast.error({\n                message: `${e}`\n            })\n        }).finally(() => {\n            search.value = ''\n            load.classList.add('is-hidden')\n        })\n    // iziToast.destroy()\n}"],"names":["API_KEY","BASE_URL","getSearchResults","search","searchParams","response","renderImages","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","load","form","lightbox","SimpleLightbox","handleSearch","e","searchValue","iziToast","data"],"mappings":"6vBACA,MAAMA,EAAU,qCACVC,EAAW,2BAIV,SAASC,EAAiBC,EAAQ,CACrC,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAY,EAAE,EACrC,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MAC5B,CAAS,CAET,CCtBO,SAASC,EAAaC,EAAQ,CAEnC,OAAOA,EAAO,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAChF;AAAA,oBACSL,CAAa;AAAA,wBACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAMXC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,uCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,cAIjC,EAAE,KAAK,EAAE,CACxB,CCpBA,MAAMX,EAAS,SAAS,cAAc,eAAe,EAC/CY,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,SAAS,EACvCC,EAAO,SAAS,cAAc,OAAO,EAC1B,SAAS,cAAc,WAAW,EAEnD,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAEDF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACrBA,EAAE,eAAgB,EAElB,MAAMC,EAAcnB,EAAO,MAAM,KAAM,EAEvC,GAAImB,IAAgB,GAAI,CACpBC,EAAS,MAAM,CACX,QAAS,+BACT,SAAU,WAEV,YAAa,CACzB,CAAS,EACDpB,EAAO,MAAQ,GACfY,EAAQ,UAAY,GACpB,MACH,CAEDC,EAAK,UAAU,OAAO,WAAW,EAGjCd,EAAiBoB,CAAW,EACvB,KAAME,GAAS,CACZ,GAAIA,EAAK,QAAU,EAAG,CAClBD,EAAS,KAAK,CACV,QAAS,6EACT,MAAO,OACP,SAAU,WAEV,YAAa,CACjC,CAAiB,EACDP,EAAK,UAAU,IAAI,WAAW,EAC9BD,EAAQ,UAAY,GACpB,MACH,CAEDA,EAAQ,UAAYT,EAAakB,EAAK,IAAI,EAC1CN,EAAS,QAAS,CAC9B,CAAS,EACA,MAAMG,GAAK,CACRE,EAAS,MAAM,CACX,QAAS,GAAGF,CAAC,EAC7B,CAAa,CACb,CAAS,EAAE,QAAQ,IAAM,CACblB,EAAO,MAAQ,GACfa,EAAK,UAAU,IAAI,WAAW,CAC1C,CAAS,CAET"}