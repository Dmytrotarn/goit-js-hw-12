{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict'\nimport axios from 'axios'\n\nconst API_KEY = \"43985824-437e417885fe4ca625fa28e08\"\n\naxios.defaults.baseURL = 'https://pixabay.com/api/'\n\nexport async function getSearchResults(search) {\n    const response = await axios({\n        params: {\n            key: \"43985824-437e417885fe4ca625fa28e08\",\n            q: search,\n            image_type: 'photo',\n            safesearch: true,\n        }\n    })\n\n    return response.data\n\n}","'use strict'\nexport function renderImages(images) {\n\n  return images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `<li class=\"item-results\">\n        \t<a href=\"${largeImageURL}\" class=\"gallery-link\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-img\"/>\n        \t</a>\n        \t<div class=\"wrap-info\">\n            <ul class=\"list-info\">\n              <li class=\"item-info\">\n                <p class=\"headline-info\">Likes</p>\n                <p class=\"text-info\">${likes}</p>\n              </li>\n              <li class=\"item-info\">\n                <p class=\"headline-info\">Views</p>\n                <p class=\"text-info\">${views}</p>\n            </li>\n            <li class=\"item-info\">\n                <p class=\"headline-info\">Comments</p>\n                <p class=\"text-info\">${comments}</p>\n            </li>\n            <li class=\"item-info\">\n                <p class=\"headline-info\">Downloads</p>\n                <p class=\"text-info\">${downloads}</p>\n            </li>\n            </ul>\n          </div>\n        </li>`}).join('')\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\"\nimport SimpleLightbox from \"simplelightbox\"\nimport \"simplelightbox/dist/simple-lightbox.min.css\"\nimport { getSearchResults } from './js/pixabay-api'\nimport { renderImages } from './js/render-functions'\n\n\nconst search = document.querySelector('.search-input')\nconst gallery = document.querySelector('.gallery')\nconst load = document.querySelector('.loader')\nconst form = document.querySelector('.form')\nconst loadMore = document.querySelector('load-more')\nlet page = 1;\nconst perPage = 15;\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nform.addEventListener('submit', handleSearch)\n\nasync function handleSearch(e) {\n    e.preventDefault()\n\n    const searchValue = search.value.trim()\n    // Порожній запит\n    if (searchValue === '') {\n        iziToast.error({\n            message: 'Input field can not be empty',\n            position: \"topRight\",\n            // timeout: false,\n            displayMode: 2,\n        })\n        search.value = ''\n        gallery.innerHTML = ''\n        return\n    }\n\n    load.classList.remove('is-hidden')\n\n\n    await getSearchResults(searchValue)\n        .then((data) => {\n            if (data.total === 0) {                             //нічого не знайдено\n                iziToast.show({\n                    message: '\"Sorry, there are no images matching your search query. Please try again!\"',\n                    color: 'blue',\n                    position: 'topRight',\n                    // timeout: false,\n                    displayMode: 2\n                })\n                load.classList.add('is-hidden')\n                gallery.innerHTML = ''\n                return\n            }\n\n            gallery.innerHTML = renderImages(data.hits)\n            lightbox.refresh()\n        })\n        .catch(e => {\n            iziToast.error({ message: `${e}` })\n        }).finally(() => {\n            search.value = ''\n            load.classList.add('is-hidden')\n        })\n    // iziToast.destroy()\n}"],"names":["axios","getSearchResults","search","renderImages","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","load","form","lightbox","SimpleLightbox","handleSearch","e","searchValue","iziToast","data"],"mappings":"owBAKAA,EAAM,SAAS,QAAU,2BAElB,eAAeC,EAAiBC,EAAQ,CAU3C,OATiB,MAAMF,EAAM,CACzB,OAAQ,CACJ,IAAK,qCACL,EAAGE,EACH,WAAY,QACZ,WAAY,EACf,CACT,CAAK,GAEe,IAEpB,CClBO,SAASC,EAAaC,EAAQ,CAEnC,OAAOA,EAAO,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAChF;AAAA,oBACSL,CAAa;AAAA,wBACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAMXC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,uCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,cAIjC,EAAE,KAAK,EAAE,CACxB,CCrBA,MAAMT,EAAS,SAAS,cAAc,eAAe,EAC/CU,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,SAAS,EACvCC,EAAO,SAAS,cAAc,OAAO,EAC1B,SAAS,cAAc,WAAW,EAInD,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAEDF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,eAAeA,EAAaC,EAAG,CAC3BA,EAAE,eAAgB,EAElB,MAAMC,EAAcjB,EAAO,MAAM,KAAM,EAEvC,GAAIiB,IAAgB,GAAI,CACpBC,EAAS,MAAM,CACX,QAAS,+BACT,SAAU,WAEV,YAAa,CACzB,CAAS,EACDlB,EAAO,MAAQ,GACfU,EAAQ,UAAY,GACpB,MACH,CAEDC,EAAK,UAAU,OAAO,WAAW,EAGjC,MAAMZ,EAAiBkB,CAAW,EAC7B,KAAME,GAAS,CACZ,GAAIA,EAAK,QAAU,EAAG,CAClBD,EAAS,KAAK,CACV,QAAS,6EACT,MAAO,OACP,SAAU,WAEV,YAAa,CACjC,CAAiB,EACDP,EAAK,UAAU,IAAI,WAAW,EAC9BD,EAAQ,UAAY,GACpB,MACH,CAEDA,EAAQ,UAAYT,EAAakB,EAAK,IAAI,EAC1CN,EAAS,QAAS,CAC9B,CAAS,EACA,MAAMG,GAAK,CACRE,EAAS,MAAM,CAAE,QAAS,GAAGF,CAAC,GAAI,CAC9C,CAAS,EAAE,QAAQ,IAAM,CACbhB,EAAO,MAAQ,GACfW,EAAK,UAAU,IAAI,WAAW,CAC1C,CAAS,CAET"}